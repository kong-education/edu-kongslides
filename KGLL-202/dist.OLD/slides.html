<!doctype html><html lang="en"><head><meta charset="UTF-8"/><title>Kong Gateway Installation Introduction - Slides üë©‚Äçüè´</title><script defer="defer" src="slides.js"></script><link href="slides.css" rel="stylesheet"></head><body><div class="reveal"><div class="slides"><section><section class="page-title"><h1>Kong Gateway Installation Introduction</h1><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number"></footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Introduction</h2><p>The purpose of this lab is to give you practical experience of installing the Kong Gateway. test</p><p>test</p><p>Kong can be installed on many types of platform, and each has its own set of requirements. For the purposes of this course we will be installing it using Docker Compose.</p><p>The steps we will go through are as follows:</p><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number"></footer><footer class="version">2025-03-26#nogit</footer></section><section id="master-toc" class="toc"><h2>Agenda</h2><ul><li><a href="#/1">View Docker Compose and SSL Configuration</a></li><li><a href="#/2">Start the Kong containers</a></li><li><a href="#/3">Upload a license</a></li><li><a href="#/4">Save/Load a configuration</a></li><li><a href="#/5">Configure Developer Portal</a></li></ul><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number"></footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Course Legend</h2><p>In this course, commands intended for typing into the terminal are formatted in red text and the expected response is in white, for example</p><pre><code class="language-shell"><span class="token builtin class-name">pwd</span>
</code></pre><pre><code><span class="token operator">/</span>home<span class="token operator">/</span>ubuntu
</code></pre><!-- # Setup Lab Environment

Run the following command to start your lab.

```shell
source ./start_lab.sh
```

**Please note** you may need to wait for up to a minute before the system is available.

Also note that Kong Gateway is launched as part of this lab, therefore Kong Manager and Kong Developer Portal won't display in the tab on the right until the Gateway is running.

This workspace uses live resources and is available for a limited time.  For details of how long its available for, and how long is left, please click on the question mark ('?') at the top right of the screen.

![Course Timings](../graphics/Strigo_course_timings.png)

If you have difficulties with this lab, then please email **`learn@konghq.com`**. --><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number"></footer><footer class="version">2025-03-26#nogit</footer></section></section><section><section class="page-title"><h1>View Docker Compose and SSL Configuration</h1><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">1</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Viewing Docker Compose and SSL Configuration</h2><p>For the purposes of this course we will deploy Kong using docker compose:</p><p>We will perform the following specific tasks:</p><ol><li>Peruse Kong Gateway Configuration</li><li>View SSL Certificates</li></ol><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">1 - 1</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 1: Peruse Kong Gateway Configuration</h2><p>Take a few minutes to read through the docker-compose.yaml file in the installation directory.</p><pre><code class="language-shell">yq docker-compose.yaml
</code></pre><p>You can see this compose file will deploy a number of containers including:¬†</p><ul><li>Kong Data Plane - kong-dp</li><li>Kong Control Plane - kong-cp</li><li>Database - db</li><li>An email SMTP server¬†- smtp-server</li></ul><p>(The &#39;smtp-server&#39; container is used by the Dev Portal to send emails to Kong admins and developers)</p><p>These services are bound to the network <code>kong-edu-net</code>¬†</p><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">1 - 2</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>SSL Certificates</h2><p>To be ultra secure you should create custom SSL Certificates for each component. However for our training lab we will use two certificates:</p><ol><li>A <strong>&#39;server.crt&#39;</strong> certificate for Admin API, Kong Manager GUI, Dev Portal GUI, and Dev Portal API</li><li>A <strong>&#39;cluster.crt&#39;</strong> certificate for intra-cluster communications</li></ol><p>These certificates are generated for our lab at boot time. The docker-compose file expects to find the SSL certificate/key pairs in the /etc/kong/ssl/ directory and are mounted in the running container under &#39;/srv/shared/ssl-certs&#39;</p><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">1 - 3</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 2: View SSL Certificates</h2><pre><code class="language-shell"><span class="token function">ls</span> <span class="token parameter variable">-l</span> /etc/kong/ssl/
</code></pre><pre><code><span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span>r<span class="token operator">--</span> <span class="token number">1</span> root root  <span class="token number">525</span> Mar <span class="token number">26</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">53</span> cluster<span class="token punctuation">.</span>crt
<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span>r<span class="token operator">--</span> <span class="token number">1</span> root root  <span class="token number">305</span> Mar <span class="token number">26</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">53</span> cluster<span class="token punctuation">.</span>key
<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span>r<span class="token operator">--</span> <span class="token number">1</span> root root <span class="token number">4234</span> Mar <span class="token number">26</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">53</span> server<span class="token punctuation">.</span>crt
<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span>r<span class="token operator">--</span> <span class="token number">1</span> root root  <span class="token number">227</span> Mar <span class="token number">26</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">53</span> server<span class="token punctuation">.</span>key
</code></pre><pre><code class="language-shell">yq .services.kong-cp.volumes docker-compose.yaml
</code></pre><pre><code><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    volumes<span class="token punctuation">:</span>
    <span class="token operator">-</span> <span class="token operator">/</span>etc<span class="token operator">/</span>kong<span class="token operator">/</span>ssl<span class="token punctuation">:</span><span class="token operator">/</span>srv<span class="token operator">/</span>shared<span class="token operator">/</span>ssl
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">1 - 4</footer><footer class="version">2025-03-26#nogit</footer></section></section><section><section class="page-title"><h1>Start the Kong containers</h1><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">2</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Starting the Kong containers</h2><p>We are now ready to start the containers to deploy Kong.</p><p>We will perform the following specific tasks:</p><ol><li>Bring up Kong Gateway</li><li>Verify Admin API</li><li>Verify Kong Manager</li></ol><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">2 - 1</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 1: Bring up Kong Gateway</h2><p>Make sure you&#39;re in the <code>installation</code> directory and run <code>docker-compose up -d</code>.</p><pre><code class="language-shell"><span class="token function">docker</span> compose up <span class="token parameter variable">-d</span>
</code></pre><pre><code><span class="token punctuation">[</span><span class="token operator">+</span><span class="token punctuation">]</span> Running <span class="token number">13</span><span class="token operator">/</span><span class="token number">13</span>
 ‚†ø Container grafana             Removed               <span class="token number">0.7</span>s
 ‚†ø Network kong<span class="token operator">-</span>edu<span class="token operator">-</span>net          Created               <span class="token number">0.1</span>s
 ‚†ø Container keycloak            Started               <span class="token number">1.8</span>s
 ‚†ø Container redis               Started               <span class="token number">2.0</span>s
 ‚†ø Container postgres            Started               <span class="token number">1.6</span>s
 ‚†ø Container smtp                Started               <span class="token number">2.0</span>s
 ‚†ø Container prometheus          Started               <span class="token number">1.8</span>s
 ‚†ø Container mockbin             Started               <span class="token number">1.8</span>s
 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">2 - 2</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 2: Verify Admin API</h2><p>In our lab environment we can access our Kong Admin API on localhost:8001</p><pre><code class="language-shell">http <span class="token parameter variable">--headers</span> GET localhost:8001
</code></pre><pre><code>HTTP<span class="token operator">/</span><span class="token number">1.1</span> <span class="token number">200</span> OK
Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Credentials<span class="token punctuation">:</span> <span class="token boolean">true</span>
Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin<span class="token punctuation">:</span> https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">4</span>nabxokzcbm86e7we<span class="token operator">-</span><span class="token number">63</span>dd1a5a73e7d652becc1152<span class="token punctuation">.</span>labs<span class="token punctuation">.</span>kongedu<span class="token punctuation">.</span>io<span class="token punctuation">:</span><span class="token number">8445</span>
Connection<span class="token punctuation">:</span> keep<span class="token operator">-</span>alive
Content<span class="token operator">-</span>Length<span class="token punctuation">:</span> <span class="token number">22446</span>
Content<span class="token operator">-</span>Type<span class="token punctuation">:</span> application<span class="token operator">/</span>json<span class="token punctuation">;</span> charset<span class="token operator">=</span>utf<span class="token operator">-</span><span class="token number">8</span>
Date<span class="token punctuation">:</span> Sun<span class="token punctuation">,</span> <span class="token number">26</span> Mar <span class="token number">2023</span> <span class="token number">12</span><span class="token punctuation">:</span><span class="token number">25</span><span class="token punctuation">:</span><span class="token number">45</span> GMT
Server<span class="token punctuation">:</span> kong<span class="token operator">/</span><span class="token number">3.2</span><span class="token number">.2</span><span class="token number">.0</span><span class="token operator">-</span>enterprise<span class="token operator">-</span>edition
X<span class="token operator">-</span>Kong<span class="token operator">-</span>Admin<span class="token operator">-</span>Latency<span class="token punctuation">:</span> <span class="token number">301</span>
X<span class="token operator">-</span>Kong<span class="token operator">-</span>Admin<span class="token operator">-</span>Request<span class="token operator">-</span>ID<span class="token punctuation">:</span> <span class="token number">0</span>KiW9ORafTQls4fu91XloASMmQC3kpT9
vary<span class="token punctuation">:</span> Origin
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">2 - 3</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 3: Verify Kong Manager</h2><p>Click on &#39;Kong Manager&#39; at top of the screen</p><p align="left"><img src="static-assets/kong_manager_tab-8f900af4e1f7cf5d8c17..png" alt="Kong Manager" width="300"></p><img src="static-assets/Kong.Manager.Dashboard.Overview_1-0ab60cce7c157135d56b..png" alt="Kong Manager Dashboard Overview" width="500"><p>You&#39;ll also notice the warning about the license - we will apply the licence next.</p><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">2 - 4</footer><footer class="version">2025-03-26#nogit</footer></section><section><h3>Refresh</h3><p>Please note, you may need to click the refresh button.</p><img src="static-assets/Strigo_Refresh-26dca56ee7a20be23d43..png" alt="Refresh" width="500" height="300"><p>You&#39;ll notice you did not need to log into Kong Manager - that&#39;s because RBAC Authentication has not yet been enabled.</p><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">2 - 5</footer><footer class="version">2025-03-26#nogit</footer></section></section><section><section class="page-title"><h1>Applying a Kong Licence</h1><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">3</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Kong Licence</h2><p>In traditional deployment with no separate control plane, license must be deployed to each node running Kong Gateway.</p><p>There are multiple ways to configure a license file on a Kong Gateway node. These are defined below in the order in which they are checked by Kong:</p><ol><li>If present, the contents of the environmental variable¬†<code>KONG_LICENSE_DATA</code> is used</li><li>Kong will search in the default location¬†<code>/etc/kong/license.json</code></li><li>If present, the contents of the file defined by the environment variable¬†<code>KONG_LICENSE_PATH</code>¬†is used</li><li>Directly deploy a license using the¬†<code>/licenses</code>¬†Admin API endpoint<ul><li>e.g. <code>http -h POST localhost:8001/licenses \ payload=@/path/to/license.json</code></li></ul></li></ol><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">3 - 1</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Kong Licence</h2><p>In hybrid deployments, applying the license to CP using method 4, will result in distribution of the license from CP to DP. Otherwise methods 1/2/3 should be used on each DP node.¬†</p><p>We will perform the following specific tasks:</p><ol><li>Apply the license</li><li>Restart the Control Plane and and Review the License</li></ol><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">3 - 2</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 1: Apply the license</h2><p>For the purpose of this lab we will apply the licence using option 4 above, i.e. by using the Admin API endpoint.</p><p>Run the following command:</p><pre><code class="language-shell">http <span class="token parameter variable">-h</span> POST localhost:8001/licenses <span class="token assign-left variable">payload</span><span class="token operator">=</span>@/etc/kong/license.json
</code></pre><!-- ## Task 1: Apply the license

For the purpose of this lab we will apply the licence using option 2 above, i.e. by mounting the directory containing the licence in the docker container. The appropriate lines to mount the licence file already exists in `docker-compose.yaml`, but are commented out.

Open `~/docker-compose.yaml` either in a command line editor (e.g. vi or nano), or using the 'Editor' lab in the lab environment and uncomment the following lines under volumes (if using the lab editor then the full path is `/home/ubuntu/KGLL-202/docker-compose.yaml`).

```
    ...
    volumes:
    - /etc/kong/license.json:/etc/kong/license.json
    ...
```

There whould be 4 occurences, under the following services
- kong-migrations
- kong-migrations-up
- kong-cp
- kong-dp --><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">3 - 3</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 2: Restart the Control Plane and and Review the License</h2><p>No matter which option you used to apply the licence, you need to restart the Kong Gateway for the licence to be applied.</p><pre><code class="language-shell"><span class="token function">docker</span> compose stop kong-cp
</code></pre><pre><code><span class="token punctuation">[</span><span class="token operator">+</span><span class="token punctuation">]</span> Running <span class="token number">1</span><span class="token operator">/</span><span class="token number">1</span>
 ‚†ø Container kong<span class="token operator">-</span>cp  Stopped                                                                   <span class="token number">6.6</span>s
</code></pre><pre><code class="language-shell"><span class="token function">docker</span> compose <span class="token function">rm</span> <span class="token parameter variable">-f</span> kong-cp
</code></pre><pre><code>Going to remove kong<span class="token operator">-</span>cp
<span class="token punctuation">[</span><span class="token operator">+</span><span class="token punctuation">]</span> Running <span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span>
 ‚†ø Container kong<span class="token operator">-</span>cp  Removed                                                                   <span class="token number">0.0</span>s
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">3 - 4</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 2: Restart the Control Plane and and Review the License</h2><pre><code class="language-shell"><span class="token function">docker</span> compose up <span class="token parameter variable">-d</span> kong-cp
</code></pre><pre><code><span class="token punctuation">[</span><span class="token operator">+</span><span class="token punctuation">]</span> Running <span class="token number">4</span><span class="token operator">/</span><span class="token number">4</span>
 ‚†ø Container postgres            Running          <span class="token number">0.0</span>s
 ‚†ø Container kong<span class="token operator">-</span>migrations     Started          <span class="token number">0.5</span>s
 ‚†ø Container kong<span class="token operator">-</span>migrations<span class="token operator">-</span>up  Started          <span class="token number">0.9</span>s
 ‚†ø Container kong<span class="token operator">-</span>cp             Started          <span class="token number">1.6</span>s
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">3 - 5</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 2: Restart the Control Plane and and Review the License</h2><p>You can verify the licence in the database</p><pre><code class="language-shell">http GET localhost:8001/license/report
</code></pre><pre><code><span class="token punctuation">{</span>
    <span class="token string">"counters"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">"bucket"</span><span class="token punctuation">:</span> <span class="token string">"2023-03"</span><span class="token punctuation">,</span>
            <span class="token string">"request_count"</span><span class="token punctuation">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"db_version"</span><span class="token punctuation">:</span> <span class="token string">"postgres 13.1"</span><span class="token punctuation">,</span>
    <span class="token string">"kong_version"</span><span class="token punctuation">:</span> <span class="token string">"3.2.2.0"</span><span class="token punctuation">,</span>
    <span class="token string">"license_key"</span><span class="token punctuation">:</span> <span class="token string">"0011K000022IA3HQAW_a1V1K0000099iyaUAA"</span><span class="token punctuation">,</span>
    <span class="token string">"system_info"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">"cores"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token string">"hostname"</span><span class="token punctuation">:</span> <span class="token string">"kong-cp"</span><span class="token punctuation">,</span>
        <span class="token string">"uname"</span><span class="token punctuation">:</span> <span class="token string">"Linux x86_64"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">"workspaces_count"</span><span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">3 - 6</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Licence Details</h2><p>You can get further details on the deployed license from the license file itself:</p><pre><code class="language-shell"><span class="token function">cat</span> /etc/kong/license.json <span class="token operator">|</span> jq
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">3 - 7</footer><footer class="version">2025-03-26#nogit</footer></section></section><section><section class="page-title"><h1>Loading Configurations with decK</h1><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>What is decK?</h2><p>decK is a command line tool for declaratively managing Kong&#39;s configuration:</p><ul><li>No need to run individual API commands to Kong&#39;s admin endpoint -just define Kong&#39;s desired state in a YAML file, covering services/routes/plugins/etc., and let decK Sync configuration to Kong.</li><li>Configuration can be maintained in GitHub, fostering team collaboration and distributed workflows.</li><li>decK can also run diffs to detect any drift or changes and can back up your instance&#39;s configuration.</li><li>decK&#39;s state file can contain sensitive data such as private keys of certificates, credentials, etc. It is up to the user to manage and store the state file in a secure fashion.</li></ul><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 1</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Using decK</h2><p>We will perform the following specific tasks:</p><ol><li>Verify decK and Create a sample Service/Route</li><li>Load Kong Configuration using decK</li><li>Sync updates and view config in Kong Manager</li><li>View created entities in Kong Manager</li><li>Restore Kong Configuration using decK</li><li>Confirm Service Restoration</li></ol><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 2</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 1: Verify decK and Create a sample Service/Route</h2><p>Let&#39;s create a sample service/route that we could use deck to save, delete and restore.</p><pre><code class="language-shell">deck gateway <span class="token function">ping</span>
</code></pre><pre><code>Successfully connected to Kong<span class="token operator">!</span>
Kong version<span class="token punctuation">:</span>  <span class="token number">3.2</span><span class="token number">.2</span><span class="token number">.0</span>
</code></pre><p>Next we will create a simple service and route:</p><pre><code class="language-shell">http POST localhost:8001/services <span class="token punctuation">\</span>
    <span class="token assign-left variable">name</span><span class="token operator">=</span>mockbin_service <span class="token punctuation">\</span>
    <span class="token assign-left variable">url</span><span class="token operator">=</span>http://mockbin:8080
</code></pre><pre><code class="language-shell">http <span class="token parameter variable">-f</span> POST localhost:8001/services/mockbin_service/routes <span class="token punctuation">\</span>
    <span class="token assign-left variable">name</span><span class="token operator">=</span>mockbin_route <span class="token punctuation">\</span>
    <span class="token assign-left variable">paths</span><span class="token operator">=</span>/mock
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 3</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 2: Load Kong Configuration using decK</h2><p>Backup current configuration to a YAML file we can review/restore.</p><pre><code class="language-shell">deck gateway dump --output-file labdump.yaml <span class="token parameter variable">--workspace</span> default
</code></pre><p>Use decK to compare the state file with the active configuration:.</p><pre><code class="language-shell">deck gateway <span class="token function">diff</span> labdump.yaml
</code></pre><pre><code>Summary<span class="token punctuation">:</span>
  Created<span class="token punctuation">:</span> <span class="token number">0</span>
  Updated<span class="token punctuation">:</span> <span class="token number">0</span>
  Deleted<span class="token punctuation">:</span> <span class="token number">0</span>
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 4</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 2: Load Kong Configuration using decK</h2><p>Delete current configuration, resetting to default.</p><pre><code class="language-shell">deck gateway reset
</code></pre><pre><code>This will delete all configuration from Kong's database<span class="token punctuation">.</span>
<span class="token operator">></span> Are you sure<span class="token operator">?</span> Y
deleting route mockbin_route
deleting service mockbin_service
Summary<span class="token punctuation">:</span>
  Created<span class="token punctuation">:</span> <span class="token number">0</span>
  Updated<span class="token punctuation">:</span> <span class="token number">0</span>
  Deleted<span class="token punctuation">:</span> <span class="token number">2</span>
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 5</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 2: Load Kong Configuration using decK</h2><p>Verify there is no configuration, either in Kong Manager or using Kong Admin API</p><pre><code class="language-shell">http <span class="token parameter variable">-b</span> localhost:8001/services
</code></pre><pre><code><span class="token punctuation">{</span>
    <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"next"</span><span class="token punctuation">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre><pre><code class="language-shell">http <span class="token parameter variable">-b</span> localhost:8001/routes
</code></pre><pre><code><span class="token punctuation">{</span>
    <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"next"</span><span class="token punctuation">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 6</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 2: Load Kong Configuration using decK</h2><p>Restore backup to active configuration</p><pre><code class="language-shell">deck gateway <span class="token function">sync</span> labdump.yaml
</code></pre><pre><code>creating service mockbin_service
creating route mockbin_route
Summary<span class="token punctuation">:</span>
  Created<span class="token punctuation">:</span> <span class="token number">2</span>
  Updated<span class="token punctuation">:</span> <span class="token number">0</span>
  Deleted<span class="token punctuation">:</span> <span class="token number">0</span>
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 7</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 3: Sync updates and view config in Kong Manager</h2><p>We can use <code>deck diff</code> to compare active configuration to another saved state, and <code>deck sync</code> to upload the reviewed saved configuration to Kong.</p><pre><code class="language-shell">deck gateway <span class="token function">diff</span> sampledump.yaml <span class="token parameter variable">--workspace</span> default
</code></pre><pre><code class="language-shell">deck gateway <span class="token function">sync</span> sampledump.yaml <span class="token parameter variable">--workspace</span> default
</code></pre><pre><code><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
creating plugin udp<span class="token operator">-</span>log <span class="token keyword">for</span> route f491db3f<span class="token operator">-</span><span class="token number">7018</span><span class="token operator">-</span><span class="token number">4197</span><span class="token operator">-</span>ae6e<span class="token operator">-</span><span class="token number">42</span>f69202d6e1
creating plugin rate<span class="token operator">-</span>limiting<span class="token operator">-</span>advanced <span class="token keyword">for</span> route d86e9f0c<span class="token operator">-</span>e2bc<span class="token operator">-</span><span class="token number">470</span>d<span class="token operator">-</span>a5a9<span class="token operator">-</span><span class="token number">8</span>f523512f379
creating plugin acme <span class="token punctuation">(</span>global<span class="token punctuation">)</span>
creating plugin openid<span class="token operator">-</span>connect <span class="token keyword">for</span> route <span class="token number">4625</span>ebe0<span class="token operator">-</span><span class="token number">8287</span><span class="token operator">-</span><span class="token number">44</span>a2<span class="token operator">-</span><span class="token number">8</span>cc0<span class="token operator">-</span><span class="token number">27</span>a182e5a06d 
deleting route mockbin
deleting service mockbin
Summary<span class="token punctuation">:</span>
  Created<span class="token punctuation">:</span> <span class="token number">56</span>
  Updated<span class="token punctuation">:</span> <span class="token number">0</span>
  Deleted<span class="token punctuation">:</span> <span class="token number">2</span>
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 8</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 4: View created entities in Kong Manager</h2><p>You can use Kong Manager to review new entities that¬†were created using the sync operation.¬†</p><p><img src="static-assets/ViewCreatedEntities-08d4450f81b1e488942c..png" alt=""></p><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 9</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 5: Restore Kong Configuration using decK</h2><p>Now we can restore Kong configuration from the YAML file we created earlier:</p><pre><code class="language-shell"><span class="token function">cat</span> labdump.yaml
</code></pre><pre><code class="language-shell">deck gateway <span class="token function">sync</span> labdump.yaml <span class="token parameter variable">--workspace</span> default
</code></pre><pre><code><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
deleting ca_certificate fa6e9989<span class="token operator">-</span><span class="token number">86</span>cb<span class="token operator">-</span><span class="token number">4</span>b26<span class="token operator">-</span>bedd<span class="token operator">-</span>b5f2f1af7f76
deleting certificate f28adba8<span class="token operator">-</span><span class="token number">8</span>a29<span class="token operator">-</span><span class="token number">4</span>f04<span class="token operator">-</span><span class="token number">8</span>cc1<span class="token operator">-</span><span class="token number">0646746</span>ac48a
deleting certificate <span class="token number">507</span>cc555<span class="token operator">-</span><span class="token number">5</span>b92<span class="token operator">-</span><span class="token number">496</span>d<span class="token operator">-</span><span class="token number">9e89</span><span class="token operator">-</span>bfc78dfcddbe
deleting certificate f3ae1bb2<span class="token operator">-</span>ea6a<span class="token operator">-</span><span class="token number">4</span>caf<span class="token operator">-</span>a7a7<span class="token operator">-</span><span class="token number">2</span>f078b7842db
Summary<span class="token punctuation">:</span>
  Created<span class="token punctuation">:</span> <span class="token number">2</span>
  Updated<span class="token punctuation">:</span> <span class="token number">0</span>
  Deleted<span class="token punctuation">:</span> <span class="token number">56</span>
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 10</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Task 6: Confirm Service Restoration</h2><p>Now you can review the service/route in the Kong Manger to confirm it is restored. That could also be achieved through the Admin API. Once done, let us create a request to observe functionality.</p><pre><code class="language-shell">http GET localhost:8001/services
</code></pre><pre><code class="language-shell">http GET localhost:8001/routes
</code></pre><pre><code class="language-shell">http GET localhost:8000/mock
</code></pre><pre><code class="language-shell">http <span class="token parameter variable">--verify</span> no GET https://localhost:8443/mock
</code></pre><pre><code>HTTP<span class="token operator">/</span><span class="token number">1.1</span> <span class="token number">200</span> OK
Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Credentials<span class="token punctuation">:</span> <span class="token boolean">true</span>
Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Headers<span class="token punctuation">:</span> host<span class="token punctuation">,</span>connection<span class="token punctuation">,</span>x<span class="token operator">-</span>forwarded<span class="token operator">-</span><span class="token keyword">for</span><span class="token punctuation">,</span>x<span class="token operator">-</span>forwarded<span class="token operator">-</span>proto<span class="token punctuation">,</span>x<span class="token operator">-</span>forwarded<span class="token operator">-</span>host<span class="token punctuation">,</span>x<span class="token operator">-</span>forwarded<span class="token operator">-</span>port<span class="token punctuation">,</span>x<span class="token operator">-</span>forwarded<span class="token operator">-</span>path<span class="token punctuation">,</span>x<span class="token operator">-</span>forwarded<span class="token operator">-</span>prefix<span class="token punctuation">,</span>x<span class="token operator">-</span>real<span class="token operator">-</span>ip<span class="token punctuation">,</span>user<span class="token operator">-</span>agent<span class="token punctuation">,</span>accept<span class="token operator">-</span>encoding<span class="token punctuation">,</span>accept
Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Methods<span class="token punctuation">:</span> GET
Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin<span class="token punctuation">:</span> <span class="token operator">*</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">4 - 11</footer><footer class="version">2025-03-26#nogit</footer></section></section><section><section class="page-title"><h1>Kongratulations!</h1><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">5</footer><footer class="version">2025-03-26#nogit</footer></section><section><h2>Kongratulations!</h2><p>Kongratulations! You have now completed the &quot;Kong Gateway Installation Overview&quot; course.</p><p>Please visit <a href="https://education.konghq.com/">https://education.konghq.com/</a> to continue your Kong education.</p><p>Thinking of becoming Kong Certified? Visit <a href="https://konghq.com/academy/certification">https://konghq.com/academy/certification</a>.</p><footer class="copyright">&copy; Copyright 2025 Zenika. All rights reserved</footer><footer class="slide-number">5 - 1</footer><footer class="version">2025-03-26#nogit</footer></section></section></div></div></body></html>